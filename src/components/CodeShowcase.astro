---
// Visual hook component - Code showcase with syntax highlighting effect
// Inspired by Linear/Vercel hero sections with floating UI elements
 
export interface Props {
  class?: string
}
 
const { class: className } = Astro.props
 
const codeHtml = `<span class="text-slate-500">// </span><span class="text-accent-400">Predictable state management</span>
<span class="text-violet-400">const</span> <span class="text-slate-100">[</span><span class="text-accent-300">state</span><span class="text-slate-100">,</span> <span class="text-accent-300">send</span><span class="text-slate-100">]</span> <span class="text-violet-400">=</span> <span class="text-accent-400">useMachine</span><span class="text-slate-100">(</span><span class="text-accent-300">workflowMachine</span><span class="text-slate-100">,</span> <span class="text-slate-100">{</span>
  <span class="text-accent-300">context</span><span class="text-slate-100">:</span> <span class="text-slate-100">{</span>
    <span class="text-accent-300">retries</span><span class="text-slate-100">:</span> <span class="text-violet-400">0</span><span class="text-slate-100">,</span>
    <span class="text-accent-300">maxRetries</span><span class="text-slate-100">:</span> <span class="text-violet-400">3</span>
  <span class="text-slate-100">}</span>
<span class="text-slate-100">});</span>
 
<span class="text-slate-500">// </span><span class="text-accent-400">Resilient UI patterns</span>
<span class="text-violet-400">return</span> <span class="text-slate-100">(</span>
  <span class="text-slate-100">&lt;</span><span class="text-accent-400">ErrorBoundary</span>
    <span class="text-accent-300">fallback</span><span class="text-slate-100">={</span><span class="text-violet-400">&lt;</span><span class="text-accent-400">RetryableError</span> <span class="text-accent-300">onRetry</span><span class="text-slate-100">={() <span class="text-violet-400">=&gt;</span> <span class="text-accent-300">send</span>({ <span class="text-accent-300">type</span>: <span class="text-violet-400">'RETRY'</span> })}</span> <span class="text-violet-400">/&gt;</span><span class="text-slate-100">}</span>
  <span class="text-slate-100">&gt;</span>
    <span class="text-violet-400">&lt;</span><span class="text-accent-400">Suspense</span> <span class="text-accent-300">fallback</span><span class="text-slate-100">={</span><span class="text-violet-400">&lt;</span><span class="text-accent-400">Skeleton</span> <span class="text-accent-300">count</span><span class="text-slate-100">={</span><span class="text-violet-400">3</span><span class="text-slate-100">}</span> <span class="text-violet-400">/&gt;</span><span class="text-slate-100">}</span><span class="text-violet-400">&gt;</span>
      <span class="text-violet-400">&lt;</span><span class="text-accent-400">AsyncDataView</span> <span class="text-accent-300">state</span><span class="text-slate-100">={</span><span class="text-accent-300">state</span><span class="text-slate-100">}</span> <span class="text-violet-400">/&gt;</span>
    <span class="text-violet-400">&lt;/</span><span class="text-accent-400">Suspense</span><span class="text-violet-400">&gt;</span>
  <span class="text-slate-100">&lt;/</span><span class="text-accent-400">ErrorBoundary</span><span class="text-slate-100">&gt;</span>
<span class="text-slate-100">);</span>`
---
 
<div class:list={[
  "relative rounded-xl border border-slate-800 bg-slate-950/80 backdrop-blur-xl overflow-hidden shadow-2xl",
  className
]}>
  {/* Ambient glow effect */}
  <div class="absolute -top-20 -right-20 w-40 h-40 bg-accent-500/20 rounded-full blur-[60px] animate-pulse-slow"></div>
  <div class="absolute -bottom-20 -left-20 w-40 h-40 bg-violet-500/20 rounded-full blur-[60px] animate-pulse-slow" style="animation-delay: 2s;"></div>
  
  {/* Window chrome */}
  <div class="flex items-center gap-2 px-4 py-3 border-b border-slate-800/50 bg-slate-900/50">
    <div class="flex gap-1.5">
      <span class="w-3 h-3 rounded-full bg-red-400/80"></span>
      <span class="w-3 h-3 rounded-full bg-yellow-400/80"></span>
      <span class="w-3 h-3 rounded-full bg-green-400/80"></span>
    </div>
    <div class="flex-1 text-center">
      <span class="text-xs text-slate-500 font-mono">Component.tsx</span>
    </div>
    <div class="w-12"></div>
  </div>
  
  {/* Code content */}
  <div class="p-4 sm:p-6 font-mono text-sm leading-relaxed overflow-x-auto">
    <pre class="text-slate-300 text-left"><code set:html={codeHtml} /></pre>
  </div>
</div>
